<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>日本語フラッシュカード</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap">
    <!-- Custom CSS styles -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
        }

        .flashcard-container {
            perspective: 1000px;
        }

        .flashcard-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            transition: transform 0.7s cubic-bezier(0.4, 0.0, 0.2, 1);
        }

        .flashcard-front {
            transform: rotateY(0deg);
        }

        .flashcard-back {
            transform: rotateY(180deg);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .is-flipped .flashcard-front {
            transform: rotateY(-180deg);
        }

        .is-flipped .flashcard-back {
            transform: rotateY(0deg);
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <!-- Main application container -->
    <div class="flex flex-col items-center justify-center w-full">
        <!-- Chapter selection dropdown -->
        <div class="mb-8">
            <label for="chapter-select" class="text-xl font-semibold text-gray-700">チャプターを選択: </label>
            <select
                id="chapter-select"
                class="p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all duration-200"
            ></select>
        </div>

        <!-- Main card container -->
        <div class="flex flex-col items-center justify-center">
            <h1 class="text-3xl font-bold text-gray-800 mb-6">日本語能力試験 N5 語彙</h1>

            <!-- Flashcard area -->
            <div id="flashcard-area" class="relative w-80 h-96 md:w-96 md:h-[28rem] hidden">
                <!-- Flashcard container -->
                <div
                    id="flashcard-container"
                    class="flashcard-container transform transition-transform duration-700 w-full h-full rounded-2xl shadow-xl cursor-pointer"
                >
                    <!-- Front of the card (Kanji) -->
                    <div id="flashcard-front" class="flashcard-face flashcard-front flex items-center justify-center p-6 bg-white rounded-2xl">
                        <p id="kanji-text" class="text-6xl text-gray-900 font-bold leading-none"></p>
                    </div>
                    <!-- Back of the card (Hiragana and Meaning) -->
                    <div id="flashcard-back" class="flashcard-face flashcard-back flex flex-col items-center justify-center p-6 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-2xl">
                        <p id="hiragana-text" class="text-4xl font-semibold mb-4 text-center"></p>
                        <p id="meaning-text" class="text-xl text-center opacity-90"></p>
                    </div>
                </div>
            </div>

            <!-- No cards message -->
            <p id="no-cards-message" class="text-xl text-gray-500 hidden">このチャプターにはカードがありません。</p>

            <!-- Navigation buttons -->
            <div class="flex justify-between w-full mt-8 md:w-96">
                <button
                    id="prev-button"
                    class="p-3 bg-white text-gray-700 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed"
                    aria-label="前のカード"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <button
                    id="next-button"
                    class="p-3 bg-white text-gray-700 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed"
                    aria-label="次のカード"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- JavaScript logic -->
    <script>
        // Define the flashcard data
        const flashcardData = [
            { chapter: 1, kanji: "山", hiragana: "やま", meaning: "mountain" },
            { chapter: 1, kanji: "川", hiragana: "かわ", meaning: "river" },
            { chapter: 1, kanji: "ふじ山", hiragana: "ふじさん", meaning: "Mt. Fuji" },
            { chapter: 1, kanji: "と山", hiragana: "とざん", meaning: "mountain climbing" },
            { chapter: 1, kanji: "山川", hiragana: "やまかわ", meaning: "mountain and river" },
            { chapter: 1, kanji: "田", hiragana: "たんぼ", meaning: "rice field" },
            { chapter: 1, kanji: "油田", hiragana: "ゆでん", meaning: "oil field" },
            { chapter: 1, kanji: "山田さん", hiragana: "やまださん", meaning: "Mr./Ms. Yamada" },
            { chapter: 1, kanji: "水", hiragana: "みず", meaning: "water" },
            { chapter: 1, kanji: "水田", hiragana: "すいでん", meaning: "irrigated rice field" },
            { chapter: 1, kanji: "水曜日", hiragana: "すいようび", meaning: "Wednesday" },
            { chapter: 1, kanji: "水道", hiragana: "すいどう", meaning: "waterworks, tap water" },
            { chapter: 1, kanji: "木", hiragana: "き", meaning: "tree, wood" },
            { chapter: 1, kanji: "木曜日", hiragana: "もくようび", meaning: "Thursday" },
            { chapter: 1, kanji: "お金", hiragana: "おかね", meaning: "money" },
            { chapter: 1, kanji: "金", hiragana: "きん", meaning: "gold" },
            { chapter: 1, kanji: "金曜日", hiragana: "きんようび", meaning: "Friday" },
            { chapter: 1, kanji: "日", hiragana: "にち", meaning: "day, sun" },
            { chapter: 1, kanji: "日曜日", hiragana: "にちようび", meaning: "Sunday" },
            { chapter: 1, kanji: "日本", hiragana: "にほん", meaning: "Japan" },
            { chapter: 1, kanji: "休日", hiragana: "きゅうじつ", meaning: "holiday" },
            { chapter: 1, kanji: "月", hiragana: "つき", meaning: "moon, month" },
            { chapter: 1, kanji: "1月", hiragana: "いちがつ", meaning: "January" },
            { chapter: 1, kanji: "今月", hiragana: "こんげつ", meaning: "this month" },
            { chapter: 1, kanji: "月曜日", hiragana: "げつようび", meaning: "Monday" },
            { chapter: 1, kanji: "火曜日", hiragana: "かようび", meaning: "Tuesday" },
            { chapter: 1, kanji: "火", hiragana: "ひ", meaning: "fire" },
            { chapter: 1, kanji: "火山", hiragana: "かざん", meaning: "volcano" },
            { chapter: 1, kanji: "火事", hiragana: "かじ", meaning: "fire" },
            { chapter: 1, kanji: "土", hiragana: "つち", meaning: "earth, soil" },
            { chapter: 1, kanji: "土曜日", hiragana: "どようび", meaning: "Saturday" },
            { chapter: 1, kanji: "土地", hiragana: "とち", meaning: "land, plot of land" },
            { chapter: 2, kanji: "人", hiragana: "ひと", meaning: "person" },
            { chapter: 2, kanji: "学生", hiragana: "がくせい", meaning: "student" },
            { chapter: 3, kanji: "猫", hiragana: "ねこ", meaning: "cat" },
            { chapter: 3, kanji: "犬", hiragana: "いぬ", meaning: "dog" },
            { chapter: 4, kanji: "食べる", hiragana: "たべる", meaning: "to eat" },
            { chapter: 4, kanji: "飲む", hiragana: "のむ", meaning: "to drink" },
            { chapter: 5, kanji: "大きい", hiragana: "おおきい", meaning: "big" },
            { chapter: 5, kanji: "小さい", hiragana: "ちいさい", meaning: "small" },
            { chapter: 6, kanji: "学校", hiragana: "がっこう", meaning: "school" },
            { chapter: 6, kanji: "本", hiragana: "ほん", meaning: "book" },
            { chapter: 7, kanji: "今", hiragana: "いま", meaning: "now" },
            { chapter: 7, kanji: "朝", hiragana: "あさ", meaning: "morning" },
            { chapter: 8, kanji: "車", hiragana: "くるま", meaning: "car" },
            { chapter: 8, kanji: "駅", hiragana: "えき", meaning: "station" },
            { chapter: 9, kanji: "高い", hiragana: "たかい", meaning: "expensive, tall" },
            { chapter: 9, kanji: "安い", hiragana: "やすい", meaning: "cheap" },
            { chapter: 10, kanji: "右", hiragana: "みぎ", meaning: "right" },
            { chapter: 10, kanji: "左", hiragana: "ひだり", meaning: "left" },
            { chapter: 11, kanji: "前", hiragana: "まえ", meaning: "front" },
            { chapter: 11, kanji: "後", hiragana: "うしろ", meaning: "back" },
            { chapter: 12, kanji: "男", hiragana: "おとこ", meaning: "man" },
            { chapter: 12, kanji: "女", hiragana: "おんな", meaning: "woman" },
            { chapter: 13, kanji: "子", hiragana: "こ", meaning: "child" },
            { chapter: 13, kanji: "大人", hiragana: "おとな", meaning: "adult" },
            { chapter: 14, kanji: "見せる", hiragana: "みせる", meaning: "to show" },
            { chapter: 14, kanji: "聞く", hiragana: "きく", meaning: "to listen" },
            { chapter: 15, kanji: "書く", hiragana: "かく", meaning: "to write" },
            { chapter: 15, kanji: "読む", hiragana: "よむ", meaning: "to read" },
            { chapter: 16, kanji: "話す", hiragana: "はなす", meaning: "to speak" },
            { chapter: 16, kanji: "話", hiragana: "はなし", meaning: "story" },
            { chapter: 17, kanji: "町", hiragana: "まち", meaning: "town" },
            { chapter: 17, kanji: "村", hiragana: "むら", meaning: "village" },
            { chapter: 18, kanji: "出", hiragana: "でる", meaning: "to exit" },
            { chapter: 18, kanji: "入る", hiragana: "はいる", meaning: "to enter" },
            { chapter: 19, kanji: "手", hiragana: "て", meaning: "hand" },
            { chapter: 19, kanji: "足", hiragana: "あし", meaning: "foot, leg" },
            { chapter: 20, kanji: "目", hiragana: "め", meaning: "eye" },
            { chapter: 20, kanji: "耳", hiragana: "みみ", meaning: "ear" },
            { chapter: 21, kanji: "口", hiragana: "くち", meaning: "mouth" },
            { chapter: 21, kanji: "鼻", hiragana: "はな", meaning: "nose" },
            { chapter: 22, kanji: "上", hiragana: "うえ", meaning: "above" },
            { chapter: 22, kanji: "下", hiragana: "した", meaning: "below" },
            { chapter: 23, kanji: "中", hiragana: "なか", meaning: "inside" },
            { chapter: 23, kanji: "外", hiragana: "そと", meaning: "outside" },
            { chapter: 24, kanji: "力", hiragana: "ちから", meaning: "power" },
            { chapter: 24, kanji: "体", hiragana: "からだ", meaning: "body" },
            { chapter: 25, kanji: "何", hiragana: "なに / なん", meaning: "what" },
            { chapter: 25, kanji: "誰", hiragana: "だれ", meaning: "who" }
        ];

        // Global variables for state
        let currentCardIndex = 0;
        let isFlipped = false;
        let selectedChapter = 1;
        let displayedCards = [];
        let chapters = [];

        // DOM elements
        const chapterSelect = document.getElementById('chapter-select');
        const flashcardContainer = document.getElementById('flashcard-container');
        const flashcardArea = document.getElementById('flashcard-area');
        const noCardsMessage = document.getElementById('no-cards-message');
        const kanjiText = document.getElementById('kanji-text');
        const hiraganaText = document.getElementById('hiragana-text');
        const meaningText = document.getElementById('meaning-text');
        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');

        // Function to update the card content
        const updateCard = () => {
            if (displayedCards.length > 0) {
                const card = displayedCards[currentCardIndex];
                kanjiText.textContent = card.kanji;
                hiraganaText.textContent = card.hiragana;
                meaningText.textContent = card.meaning;
                flashcardArea.classList.remove('hidden');
                noCardsMessage.classList.add('hidden');
                prevButton.disabled = false;
                nextButton.disabled = false;
            } else {
                flashcardArea.classList.add('hidden');
                noCardsMessage.classList.remove('hidden');
                prevButton.disabled = true;
                nextButton.disabled = true;
            }
        };

        // Function to filter cards and update the display
        const filterAndDisplayCards = () => {
            displayedCards = flashcardData.filter(card => card.chapter === selectedChapter);
            currentCardIndex = 0;
            isFlipped = false;
            flashcardContainer.classList.remove('is-flipped');
            updateCard();
        };

        // Event listeners
        flashcardContainer.addEventListener('click', () => {
            isFlipped = !isFlipped;
            if (isFlipped) {
                flashcardContainer.classList.add('is-flipped');
            } else {
                flashcardContainer.classList.remove('is-flipped');
            }
        });

        nextButton.addEventListener('click', () => {
            isFlipped = false;
            flashcardContainer.classList.remove('is-flipped');
            currentCardIndex = (currentCardIndex + 1) % displayedCards.length;
            updateCard();
        });

        prevButton.addEventListener('click', () => {
            isFlipped = false;
            flashcardContainer.classList.remove('is-flipped');
            currentCardIndex = (currentCardIndex - 1 + displayedCards.length) % displayedCards.length;
            updateCard();
        });

        chapterSelect.addEventListener('change', (e) => {
            selectedChapter = Number(e.target.value);
            filterAndDisplayCards();
        });

        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => {
            // Populate the chapter dropdown
            chapters = [...new Set(flashcardData.map(card => card.chapter))];
            chapters.forEach(chapter => {
                const option = document.createElement('option');
                option.value = chapter;
                option.textContent = `チャプター ${chapter}`;
                chapterSelect.appendChild(option);
            });
            
            // Set initial selected chapter
            selectedChapter = Number(chapterSelect.value);

            // Initial display
            filterAndDisplayCards();
        });
    </script>
</body>
</html>
